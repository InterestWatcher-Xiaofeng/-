# 🍁 红枫工具箱 - 版本管理说明

## 📋 版本列表

### 当前版本
- **V1.2.2** (2025-10-30) - 文件管理与用户体验优化版 ⭐ 最新版本

### 历史版本
- **V1.2.1** (2025-10-30) - 进度显示与文件命名优化版
- **V1.2.0** (2025-10-30) - 批量关键词搜索功能版
- **V1.1.0** (初始版本) - 基础功能版

---

## 🔖 Git标签说明

本项目使用Git标签（Tag）来标记每个版本，方便随时下载任意历史版本。

### 已创建的标签
```bash
v1.1.0  # 初始版本
v1.2.2  # 最新版本
```

---

## 📥 如何下载指定版本

### 方法1：通过GitHub网页下载

**步骤1：访问项目页面**
```
https://github.com/InterestWatcher-Xiaofeng/-
```

**步骤2：点击"Releases"**
```
在项目页面右侧，找到"Releases"链接
或直接访问：https://github.com/InterestWatcher-Xiaofeng/-/releases
```

**步骤3：选择版本下载**
```
- 点击对应版本的"Source code (zip)"或"Source code (tar.gz)"
- 下载后解压即可使用
```

---

### 方法2：通过Git命令下载

#### 下载最新版本（V1.2.2）
```bash
# 克隆整个仓库
git clone https://github.com/InterestWatcher-Xiaofeng/-.git

# 进入项目目录
cd -

# 查看当前版本
git describe --tags
```

#### 下载指定版本（如V1.1.0）
```bash
# 方式1：克隆后切换到指定标签
git clone https://github.com/InterestWatcher-Xiaofeng/-.git
cd -
git checkout v1.1.0

# 方式2：直接克隆指定标签
git clone --branch v1.1.0 https://github.com/InterestWatcher-Xiaofeng/-.git
```

#### 查看所有可用版本
```bash
# 查看所有标签
git tag

# 查看标签详细信息
git show v1.2.2
```

---

## 📊 版本对比

### V1.2.2 vs V1.2.1

**新增功能：**
- ✅ 每次搜索生成独立文件（添加时间戳）
- ✅ 采集完成后自动清空关键词输入框

**Bug修复：**
- ✅ 修复同一关键词多次采集会覆盖文件的问题

**文件命名变化：**
```
V1.2.1：抖音_美食探店_评论.csv
V1.2.2：抖音_美食探店_评论_20251030_140000.csv
```

---

### V1.2.1 vs V1.2.0

**新增功能：**
- ✅ 详细进度条显示（如：1/10个视频正在抓取中）
- ✅ 实时显示当前采集的视频标题

**优化：**
- ✅ 文件命名改为"平台_关键词_类型.格式"
- ✅ 进度条实时更新，显示当前/总数

---

### V1.2.0 vs V1.1.0

**新增功能：**
- ✅ 批量关键词搜索功能
- ✅ 支持多行关键词输入
- ✅ 每组关键词独立采集和保存

**Bug修复：**
- ✅ 修复浏览器无法启动的问题

---

## 🔄 版本升级指南

### 从V1.1.0升级到V1.2.2

**步骤1：备份数据**
```bash
# 备份现有数据文件
cp -r data data_backup_v110
```

**步骤2：拉取最新代码**
```bash
# 如果已经克隆了仓库
cd -
git pull origin main
git checkout v1.2.2

# 如果是全新下载
git clone --branch v1.2.2 https://github.com/InterestWatcher-Xiaofeng/-.git
```

**步骤3：安装依赖（如果有更新）**
```bash
cd MediaCrawler
pip install -r requirements.txt
```

**步骤4：启动应用**
```bash
python gui_app.py
```

---

### 从V1.2.2降级到V1.1.0

**步骤1：备份当前数据**
```bash
cp -r data data_backup_v122
```

**步骤2：切换到V1.1.0**
```bash
git checkout v1.1.0
```

**步骤3：启动应用**
```bash
python gui_app.py
```

**注意：** 降级后，V1.2.x的新功能将不可用

---

## 📝 版本发布流程（开发者参考）

### 发布新版本的步骤

**步骤1：更新版本号**
```python
# 编辑 version.py
VERSION = "V1.X.X"
RELEASE_DATE = "2025-XX-XX"
```

**步骤2：更新CHANGELOG**
```python
# 在 version.py 中添加更新日志
CHANGELOG = """
V1.X.X (2025-XX-XX) - 版本描述
--------------------
✅ 新增功能1
✅ 新增功能2
🐛 Bug修复1
"""
```

**步骤3：提交代码**
```bash
git add .
git commit -m "Release V1.X.X - 版本描述"
```

**步骤4：创建标签**
```bash
git tag -a v1.X.X -m "V1.X.X - 版本描述

✨ 新增功能：
- 功能1
- 功能2

🐛 Bug修复：
- 修复1
- 修复2"
```

**步骤5：推送到GitHub**
```bash
# 推送代码
git push origin main

# 推送标签
git push origin v1.X.X
```

**步骤6：创建GitHub Release（可选）**
```
1. 访问 https://github.com/InterestWatcher-Xiaofeng/-/releases
2. 点击"Draft a new release"
3. 选择标签：v1.X.X
4. 填写Release标题和说明
5. 上传附件（如果有）
6. 点击"Publish release"
```

---

## 🏷️ 标签命名规范

### 格式
```
v主版本号.次版本号.修订号
```

### 版本号说明
- **主版本号**：重大功能变更或架构调整（如：v2.0.0）
- **次版本号**：新增功能或重要优化（如：v1.2.0）
- **修订号**：Bug修复或小优化（如：v1.2.2）

### 示例
```
v1.0.0  # 第一个正式版本
v1.1.0  # 新增功能
v1.1.1  # Bug修复
v1.2.0  # 新增批量关键词功能
v1.2.1  # 优化进度显示
v1.2.2  # 修复文件覆盖问题
v2.0.0  # 重大架构调整（未来）
```

---

## 📦 版本文件结构

### 每个版本应包含的文档
```
MediaCrawler/
├── version.py                    # 版本号和更新日志
├── README.md                     # 项目说明
├── 版本管理说明.md               # 本文档
├── V1.X.X更新说明.md             # 版本更新说明
└── 功能说明文档.md               # 新功能说明（如果有）
```

### 当前版本的文档
```
MediaCrawler/
├── version.py                    # V1.2.2
├── 版本管理说明.md               # 本文档
├── V1.2.0更新说明.md             # V1.2.0版本说明
├── V1.2.1优化说明.md             # V1.2.1版本说明
├── V1.2.2修复说明.md             # V1.2.2版本说明
└── 批量关键词功能说明.md         # 批量关键词功能详细说明
```

---

## 🔍 查看版本信息

### 在代码中查看
```python
# 导入版本模块
from version import VERSION, RELEASE_DATE, CHANGELOG

# 打印版本信息
print(f"当前版本: {VERSION}")
print(f"发布日期: {RELEASE_DATE}")
print(f"更新日志:\n{CHANGELOG}")
```

### 在Git中查看
```bash
# 查看当前版本
git describe --tags

# 查看所有标签
git tag

# 查看标签详细信息
git show v1.2.2

# 查看两个版本之间的差异
git diff v1.1.0 v1.2.2

# 查看版本历史
git log --oneline --decorate --graph
```

---

## 🌐 GitHub相关链接

### 项目主页
```
https://github.com/InterestWatcher-Xiaofeng/-
```

### Releases页面
```
https://github.com/InterestWatcher-Xiaofeng/-/releases
```

### Tags页面
```
https://github.com/InterestWatcher-Xiaofeng/-/tags
```

### 下载最新版本
```
https://github.com/InterestWatcher-Xiaofeng/-/archive/refs/tags/v1.2.2.zip
```

### 下载指定版本
```
https://github.com/InterestWatcher-Xiaofeng/-/archive/refs/tags/v1.1.0.zip
```

---

## ❓ 常见问题

### Q1: 如何知道我当前使用的是哪个版本？
```bash
# 方法1：查看version.py文件
cat MediaCrawler/version.py

# 方法2：使用Git命令
git describe --tags

# 方法3：在GUI界面查看（如果有显示）
```

### Q2: 如何切换到其他版本？
```bash
# 查看所有可用版本
git tag

# 切换到指定版本
git checkout v1.1.0

# 切换回最新版本
git checkout main
```

### Q3: 切换版本后数据会丢失吗？
```
不会！data目录中的数据文件不会因为切换版本而丢失。
但建议在切换版本前备份数据，以防万一。
```

### Q4: 如何同时保留多个版本？
```bash
# 方法1：克隆多个副本
git clone --branch v1.1.0 https://github.com/InterestWatcher-Xiaofeng/-.git v1.1.0
git clone --branch v1.2.2 https://github.com/InterestWatcher-Xiaofeng/-.git v1.2.2

# 方法2：使用不同的目录
mkdir versions
cd versions
git clone https://github.com/InterestWatcher-Xiaofeng/-.git v1.1.0
cd v1.1.0 && git checkout v1.1.0
cd ..
git clone https://github.com/InterestWatcher-Xiaofeng/-.git v1.2.2
cd v1.2.2 && git checkout v1.2.2
```

### Q5: 如何查看版本之间的具体变化？
```bash
# 查看文件变化列表
git diff --name-only v1.1.0 v1.2.2

# 查看具体代码变化
git diff v1.1.0 v1.2.2

# 查看某个文件的变化
git diff v1.1.0 v1.2.2 -- MediaCrawler/gui_app.py
```

---

## 📞 反馈与支持

### 问题反馈
- GitHub Issues: https://github.com/InterestWatcher-Xiaofeng/-/issues
- Email: 158789466+InterestWatcher-Xiaofeng@users.noreply.github.com

### 版本建议
如果您对版本管理有任何建议，欢迎通过以上渠道反馈！

---

**祝您使用愉快！** 🎉

